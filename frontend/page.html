<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jobs in Jordan</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</head>
<body>
  <!-- Menu bar -->
  <div class="menu-bar">
    <div class="title">Jobs in Jordan</div>
    <div class="menu-links">
      <a href="#profile">Profile</a>
      <a href="#company-portal">Company Portal</a>
    </div>
  </div>

  <div class="container">
    <div id="map" class="map"></div>
    <div class="sidebar">
      <input type="text" id="search" placeholder="Search Jobs with AI" />
      <button class='button' onclick="performAiSearch()">Search with AI</button>
      
      <hr class="divider" />
      <p class="or-text">Advanced Search</p>

      <button id="toggle-advanced-search">Show Advanced Search</button>
  
      <!-- Advanced Search Options (Initially Hidden) -->
      <form id="advanced-search-form" style="display: none;">
        <!-- Location & Distance -->
        <label for="location">Location:</label>
        <!-- <input type="text" id="location" placeholder="Enter location coordinates" /> -->
        <div id="pick-coordinates-btn" class="button">Pick Coordinates</div>

        <div id="coordinate-display">
          <!-- Label and input box for displaying selected coordinates -->
          <label for="coordinates">Your Coordinates:</label>
          <input type="text" id="coordinates" readonly />
        </div>
  
        <label for="distance">Distance (km):</label>
        <input type="number" id="distance" placeholder="Distance from location" min="0" />
  
        <!-- Start and End Date -->
        <label for="start-date">Start Date:</label>
        <input type="date" id="start-date" />
  
        <label for="end-date">End Date:</label>
        <input type="date" id="end-date" />
  
        <!-- Sector and Subsector -->
        <label for="sector">Sector of Work:</label>
        <select id="sector">
          <option value="">Select Sector</option>
          <option value="wholesale_and_retail_trade">Wholesale and Retail Trade</option>
            <option value="manufacturing">Manufacturing</option>
            <option value="information_and_communication">Information and Communication</option>
            <option value="accommodation_and_food_services">Accommodation and Food Services (Tourism)</option>
            <option value="service_activities">Service Activities</option>
            <option value="arts_entertainment_and_recreation">Arts, Entertainment, and Recreation</option>
            <option value="construction">Construction</option>
            <option value="consulting">Consulting</option>
            <option value="human_health_and_social_work_activities">Human Health and Social Work Activities</option>
            <option value="administrative_and_support_services">Administrative and Support Services</option>
            <option value="utilities">Utilities</option>
            <option value="transportation_and_storage">Transportation and Storage</option>
            <option value="education">Education</option>
            <option value="agriculture">Agriculture</option>
            <option value="financial_services">Financial Services</option>
            <option value="real_estate">Real Estate</option>
            <option value="information_technology">Information Technology</option>
            <option value="research_and_development">Research and Development</option>
            <option value="mining">Mining</option>

        </select>
  
        <label for="subsector">Subsector:</label>
        <select id="subsector">
            <option value="">Select Subsector</option>
            <option value="appraisal_services">Appraisal Services</option>
            <option value="automotive_manufacturing">Automotive Manufacturing</option>
            <option value="banking">Banking</option>
            <option value="bars">Bars</option>
            <option value="business_consulting">Business Consulting</option>
            <option value="catering">Catering</option>
            <option value="chemical_manufacturing">Chemical Manufacturing</option>
            <option value="cleaning_services">Cleaning Services</option>
            <option value="clinics">Clinics</option>
            <option value="commercial_construction">Commercial Construction</option>
            <option value="crop_production">Crop Production</option>
            <option value="data_processing">Data Processing</option>
            <option value="e_commerce">E-Commerce</option>
            <option value="electronics_manufacturing">Electronics Manufacturing</option>
            <option value="event_planning">Event Planning</option>
            <option value="facility_management">Facility Management</option>
            <option value="financial_consulting">Financial Consulting</option>
            <option value="financial_markets">Financial Markets</option>
            <option value="food_processing">Food Processing</option>
            <option value="gas_distribution">Gas Distribution</option>
            <option value="hardware_manufacturing">Hardware Manufacturing</option>
            <option value="heavy_construction">Heavy Construction</option>
            <option value="higher_education">Higher Education</option>
            <option value="horticulture">Horticulture</option>
            <option value="hotels">Hotels</option>
            <option value="information_services">Information Services</option>
            <option value="infrastructure_construction">Infrastructure Construction</option>
            <option value="insurance">Insurance</option>
            <option value="internet_service_providers">Internet Service Providers</option>
            <option value="it_services">IT Services</option>
            <option value="laundry_services">Laundry Services</option>
            <option value="libraries">Libraries</option>
            <option value="livestock_farming">Livestock Farming</option>
            <option value="machinery_manufacturing">Machinery Manufacturing</option>
            <option value="management_consulting">Management Consulting</option>
            <option value="medical_practices">Medical Practices</option>
            <option value="metal_fabrication">Metal Fabrication</option>
            <option value="metal_ore_mining">Metal Ore Mining</option>
            <option value="motels">Motels</option>
            <option value="museums">Museums</option>
            <option value="nursing_homes">Nursing Homes</option>
            <option value="office_administration">Office Administration</option>
            <option value="performing_arts">Performing Arts</option>
            <option value="personal_services">Personal Services</option>
            <option value="primary_education">Primary Education</option>
            <option value="property_management">Property Management</option>
            <option value="publishing">Publishing</option>
            <option value="poultry_farming">Poultry Farming</option>
            <option value="real_estate_agencies">Real Estate Agencies</option>
            <option value="real_estate_development">Real Estate Development</option>
            <option value="recreation">Recreation</option>
            <option value="repair_services">Repair Services</option>
            <option value="research_institutions">Research Institutions</option>
            <option value="residential_construction">Residential Construction</option>
            <option value="restaurants">Restaurants</option>
            <option value="retail_trade_apparel">Retail Trade (Apparel)</option>
            <option value="retail_trade_automotive">Retail Trade (Automotive)</option>
            <option value="retail_trade_electronics">Retail Trade (Electronics)</option>
            <option value="retail_trade_food">Retail Trade (Food)</option>
            <option value="retail_trade_furniture">Retail Trade (Furniture)</option>
            <option value="retail_trade_general_merchandise">Retail Trade (General Merchandise)</option>
            <option value="road_transportation">Road Transportation</option>
            <option value="scientific_research">Scientific Research</option>
            <option value="secondary_education">Secondary Education</option>
            <option value="social_work">Social Work</option>
            <option value="software_development">Software Development</option>
            <option value="specialized_trade_contracting">Specialized Trade Contracting</option>
            <option value="sports">Sports</option>
            <option value="support_activities_for_transportation">Support Activities For Transportation</option>
            <option value="technological_development">Technological Development</option>
            <option value="telecommunications">Telecommunications</option>
            <option value="textile_manufacturing">Textile Manufacturing</option>
            <option value="universities">Universities</option>
            <option value="visual_arts">Visual Arts</option>
            <option value="vocational_training">Vocational Training</option>
            <option value="warehousing">Warehousing</option>
            <option value="water_supply">Water Supply</option>
            <option value="water_transportation">Water Transportation</option>
            <option value="welfare_services">Welfare Services</option>
            <option value="wholesale_trading">Wholesale Trading</option>

        </select>
  
        <!-- Governorat and District -->
        <label for="governorat">Governorate:</label>
        <select id="governorat">
          <option value="">Select Governorate</option>
            <option value="ajloun">Ajloun</option>
            <option value="amman">Amman</option>
            <option value="aqaba">Aqaba</option>
            <option value="balqaa">Balqaa</option>
            <option value="irbid">Irbid</option>
            <option value="jerash">Jerash</option>
            <option value="karak">Karak</option>
            <option value="madaba">Madaba</option>
            <option value="mafraq">Mafraq</option>
            <option value="maan">Maan</option>
            <option value="tafilah">Tafilah</option>
            <option value="zarqaa">Zarqaa</option>
        </select>
  
        <label for="district">District:</label>
        <select id="district">
          <option value="">Select District</option>
          <option value="ash_shobek">Ash-Shobek</option>
            <option value="koorah">Koorah</option>
            <option value="mafraq_al_qasabeh">Mafraq Al-Qasabeh</option>
            <option value="dieban">Dieban</option>
            <option value="naour">Naour</option>
            <option value="tafeleh_al_qasabeh">Tafeleh Al-Qasabeh</option>
            <option value="al_qatraneh">Al-Qatraneh</option>
            <option value="al_mazar_al_jabubiyya">Al-Mazar Al Jabubiyya</option>
            <option value="aqaba_al_qasabah">Aqaba Al-Qasabah</option>
            <option value="fuhais_and_mahes">Fuhais And Mahes</option>
            <option value="jerash_qasabah">Jerash Qasabah</option>
            <option value="petra">Petra</option>
            <option value="allan">Allan</option>
            <option value="al_dlayel">Al Dlayel</option>
            <option value="irbid_qasabah">Irbid Qasabah</option>
            <option value="mlaih">Mlaih</option>
            <option value="karak_al_qasabah">Karak Al-Qasabah</option>
            <option value="madaba_qasabah">Madaba Qasabah</option>
            <option value="ajloun_qasabah">Ajloun Qasabah</option>
            <option value="anjara">Anjara</option>
            <option value="badiah_shamaliyah">Badiah Shamaliyah</option>
            <option value="badiah_gharbiah">Badiah Gharbiah</option>
            <option value="borma">Borma</option>
            <option value="zarqa_al_qasabeh">Zarqa Al-Qasabeh</option>
            <option value="bani_obeid">Bani Obeid</option>
            <option value="wastiyyah">Wastiyyah</option>
            <option value="ghwr_alsafi">Ghwr Alsafi</option>
        </select>
  
        <!-- Business Name -->
        <label for="business-name">Business Name:</label>
        <input type="text" id="business-name" placeholder="Enter business name" />
  
        <!-- Checkboxes for Filters -->
        <div class="checkboxes">
          <label>
            <input type="checkbox" id="has-vacancies" />
            Has Vacancies
          </label>
          <label>
            <input type="checkbox" id="allows-youth" />
            Allows Youth (18-29)
          </label>
          <label>
            <input type="checkbox" id="expect-need" />
            Expect Need for Employees in the Next Year
          </label>
        </div>
  
        <!-- Submit Button -->
        <button type="submit">Search</button>
      </form>
      
      <hr class="divider" />
      <p class="or-text">Job Postings</p>

      <div id="job-listings" class="job-listings"></div>
    </div>
  </div>

  <!-- Modal structure -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close-btn" id="close-modal">&times;</span>
      <div id="modal-body"></div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js"></script>
    <script>
    // Mapping of sectors to relevant subsectors
    const sectorToSubsectorMap = {
      "wholesale_and_retail_trade": ["retail_trade_apparel", "retail_trade_automotive", "retail_trade_electronics", "retail_trade_food", "retail_trade_furniture", "retail_trade_general_merchandise", "wholesale_trading"],
      "manufacturing": ["automotive_manufacturing", "chemical_manufacturing", "electronics_manufacturing", "hardware_manufacturing", "machinery_manufacturing", "metal_fabrication", "textile_manufacturing"],
      "information_and_communication": ["data_processing", "internet_service_providers", "telecommunications", "information_services"],
      "accommodation_and_food_services": ["bars", "catering", "hotels", "motels", "restaurants"],
      "service_activities": ["cleaning_services", "personal_services", "laundry_services"],
      "arts_entertainment_and_recreation": ["museums", "performing_arts", "recreation", "sports", "visual_arts"],
      "construction": ["commercial_construction", "heavy_construction", "infrastructure_construction", "residential_construction", "specialized_trade_contracting"],
      "consulting": ["business_consulting", "financial_consulting", "management_consulting"],
      "human_health_and_social_work_activities": ["clinics", "nursing_homes", "medical_practices", "social_work"],
      "administrative_and_support_services": ["facility_management", "office_administration"],
      "utilities": ["gas_distribution", "water_supply"],
      "transportation_and_storage": ["road_transportation", "warehousing", "water_transportation"],
      "education": ["primary_education", "secondary_education", "higher_education", "vocational_training"],
      "agriculture": ["crop_production", "livestock_farming", "poultry_farming", "horticulture"],
      "financial_services": ["banking", "financial_markets", "insurance"],
      "real_estate": ["property_management", "real_estate_agencies", "real_estate_development"],
      "information_technology": ["it_services", "software_development", "technological_development"],
      "research_and_development": ["research_institutions", "scientific_research"],
      "mining": ["metal_ore_mining"]
    };

    document.addEventListener("DOMContentLoaded", function() {
      const sectorSelect = document.getElementById("sector");
      const subsectorSelect = document.getElementById("subsector");

      // Store all subsector options initially
      const allSubsectors = Array.from(subsectorSelect.options);

      // Update subsector options based on selected sector
      sectorSelect.addEventListener("change", function() {
        const selectedSector = sectorSelect.value;
        
        // Get the relevant subsectors for the selected sector
        const relevantSubsectors = sectorToSubsectorMap[selectedSector] || [];

        // Clear current subsector options
        subsectorSelect.innerHTML = "";

        // Add the "Select Subsector" default option
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "Select Subsector";
        subsectorSelect.appendChild(defaultOption);

        // Add only the relevant subsectors
        allSubsectors.forEach(option => {
          if (relevantSubsectors.includes(option.value) || option.value === "") {
            subsectorSelect.appendChild(option);
          }
        });
      });
    });
  </script>
</body>
</html>
